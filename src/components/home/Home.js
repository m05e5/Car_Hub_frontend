import React, { useEffect } from 'react';
import { useDispatch, useSelector } from 'react-redux';
import { models } from '../../redux/modelReducer';

const modelsUrl = ' https://carhubackend.herokuapp.com/models';

const Home = () => {
  const stateModel = useSelector((state) => state.myModels);
  // const stateModel = [
  //   {
  //     'image': 'data:image/jpeg;base64,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'
  //   }
  // ]
  const dispatch = useDispatch();

  const navToggle = () => {
    const home_link = document.querySelector('#home_link');
    const create_link = document.querySelector('#create_link');
    const reserve_link = document.querySelector('#reserve_link');

    create_link.classList.remove('selected_nav');
    home_link.classList.add('selected_nav');
    reserve_link.classList.remove('selected_nav');
  }

  const getModels = () => {
    if (!stateModel.length > 0) {
      fetch(modelsUrl).then((data) => {
        data.json().then((dataJson) => dispatch(models(dataJson)));
      });
    }
  };

  useEffect(() => {
    navToggle();
    getModels();
  });

  return (
    <div>
      <p>Home</p>
      {stateModel.map((model) => (
        <img src={model.image} alt="model"  />
      ))}
    </div>
  )
};

export default Home;
